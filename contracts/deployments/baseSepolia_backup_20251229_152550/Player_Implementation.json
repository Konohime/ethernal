{
  "address": "0x4114eF47a0E39c7d9DedD04a6dB278E9b593925B",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "returnData",
          "type": "bytes"
        }
      ],
      "name": "Call",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newEnergy",
          "type": "uint256"
        }
      ],
      "name": "Refill",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "MAX_FOOD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address payable",
          "name": "_delegate",
          "type": "address"
        }
      ],
      "name": "addDelegate",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "destination",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "gasLimit",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "name": "callAsCharacter",
      "outputs": [
        {
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        },
        {
          "internalType": "bytes",
          "name": "returnData",
          "type": "bytes"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address payable",
          "name": "newDelegate",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint8",
          "name": "class",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "location",
          "type": "uint256"
        }
      ],
      "name": "createAndEnter",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address payable",
          "name": "newDelegate",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "characterId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "value",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "name",
          "type": "string"
        },
        {
          "internalType": "uint8",
          "name": "class",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "location",
          "type": "uint256"
        }
      ],
      "name": "enter",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        }
      ],
      "name": "getEnergy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "energy",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "freeEnergy",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        }
      ],
      "name": "getLastCharacterId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "characterId",
          "type": "uint256"
        }
      ],
      "name": "getPlayerInfo",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "energy",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "freeEnergy",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "delegate",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "playerAddress",
          "type": "address"
        }
      ],
      "name": "isDelegateFor",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "forwarder",
          "type": "address"
        }
      ],
      "name": "isTrustedForwarder",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract Characters",
          "name": "charactersContract",
          "type": "address"
        },
        {
          "internalType": "address payable",
          "name": "feeRecipient",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "minBalance",
          "type": "uint256"
        },
        {
          "internalType": "contract Pool",
          "name": "pool",
          "type": "address"
        }
      ],
      "name": "postUpgrade",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "refill",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "refillAccount",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "register",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xa2d3bc504a498d8e852f075093098e58cc348335cf29ca0138d05eac3d537311",
  "receipt": {
    "to": null,
    "from": "0x78fAf6C26b364141fAd67c544A2DdE6Bc985baf4",
    "contractAddress": "0x4114eF47a0E39c7d9DedD04a6dB278E9b593925B",
    "transactionIndex": 22,
    "gasUsed": "1107131",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x02c1138e1dcaf8d40f95b2a5237f4baa4d6777107b1070c29d4c11f736abde31",
    "transactionHash": "0xa2d3bc504a498d8e852f075093098e58cc348335cf29ca0138d05eac3d537311",
    "logs": [],
    "blockNumber": 34713626,
    "cumulativeGasUsed": "16192588",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "3705cadeb86e4cfd473ba34c32cdc277",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"name\":\"Call\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"playerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newEnergy\",\"type\":\"uint256\"}],\"name\":\"Refill\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_FOOD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"_delegate\",\"type\":\"address\"}],\"name\":\"addDelegate\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"destination\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"gasLimit\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"callAsCharacter\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"},{\"internalType\":\"bytes\",\"name\":\"returnData\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"newDelegate\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"class\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"location\",\"type\":\"uint256\"}],\"name\":\"createAndEnter\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address payable\",\"name\":\"newDelegate\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"characterId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"value\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"name\",\"type\":\"string\"},{\"internalType\":\"uint8\",\"name\":\"class\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"location\",\"type\":\"uint256\"}],\"name\":\"enter\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"playerAddress\",\"type\":\"address\"}],\"name\":\"getEnergy\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"energy\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"freeEnergy\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"playerAddress\",\"type\":\"address\"}],\"name\":\"getLastCharacterId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"playerAddress\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"characterId\",\"type\":\"uint256\"}],\"name\":\"getPlayerInfo\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"energy\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"freeEnergy\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegate\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"playerAddress\",\"type\":\"address\"}],\"name\":\"isDelegateFor\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"forwarder\",\"type\":\"address\"}],\"name\":\"isTrustedForwarder\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract Characters\",\"name\":\"charactersContract\",\"type\":\"address\"},{\"internalType\":\"address payable\",\"name\":\"feeRecipient\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"minBalance\",\"type\":\"uint256\"},{\"internalType\":\"contract Pool\",\"name\":\"pool\",\"type\":\"address\"}],\"name\":\"postUpgrade\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"refill\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"refillAccount\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"register\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/player/Player.sol\":\"Player\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"hardhat-deploy/solc_0.8/proxy/Proxied.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.0;\\n\\nabstract contract Proxied {\\n    /// @notice to be used by initialisation / postUpgrade function so that only the proxy's admin can execute them\\n    /// It also allows these functions to be called inside a contructor\\n    /// even if the contract is meant to be used without proxy\\n    modifier proxied() {\\n        address proxyAdminAddress = _proxyAdmin();\\n        // With hardhat-deploy proxies\\n        // the proxyAdminAddress is zero only for the implementation contract\\n        // if the implementation contract want to be used as a standalone/immutable contract\\n        // it simply has to execute the `proxied` function\\n        // This ensure the proxyAdminAddress is never zero post deployment\\n        // And allow you to keep the same code for both proxied contract and immutable contract\\n        if (proxyAdminAddress == address(0)) {\\n            // ensure can not be called twice when used outside of proxy : no admin\\n            // solhint-disable-next-line security/no-inline-assembly\\n            assembly {\\n                sstore(\\n                    0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103,\\n                    0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\\n                )\\n            }\\n        } else {\\n            require(msg.sender == proxyAdminAddress);\\n        }\\n        _;\\n    }\\n\\n    modifier onlyProxyAdmin() {\\n        require(msg.sender == _proxyAdmin(), \\\"NOT_AUTHORIZED\\\");\\n        _;\\n    }\\n\\n    function _proxyAdmin() internal view returns (address ownerAddress) {\\n        // solhint-disable-next-line security/no-inline-assembly\\n        assembly {\\n            ownerAddress := sload(0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103)\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xaaceeafeeaf0d200ca3942d8bf14c1c4f787a77f79cc87c08bb668e65acdee29\",\"license\":\"MIT\"},\"src/characters/Characters.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"hardhat-deploy/solc_0.8/proxy/Proxied.sol\\\";\\nimport \\\"./CharactersDataLayout.sol\\\";\\n\\ncontract Characters is Proxied, CharactersDataLayout {\\n    event CharacterUpdate(uint256 indexed id, address indexed owner, uint256 data);\\n    event Transfer(address indexed from, address indexed to, uint256 indexed id);\\n\\n    function postUpgrade() external proxied {\\n        if (nextId == 0) {\\n            nextId = 1;\\n        }\\n    }\\n\\n    function getSubOwner(uint256 id) external view returns (uint256) {\\n        return _subOwner[id][_owners[id]];\\n    }\\n\\n    function setSubOwner(uint256 id, uint256 subOwner) external {\\n        require(msg.sender == _owners[id], \\\"only owner is able to set sub owner\\\");\\n        _setSubOwnerFor(id, msg.sender, subOwner);\\n    }\\n\\n    function _setSubOwnerFor(\\n        uint256 id,\\n        address owner,\\n        uint256 subOwner\\n    ) internal {\\n        // TODO emit SubOwnerTransferEvent\\n        _subOwner[id][owner] = subOwner;\\n    }\\n\\n    function mintTo(address to) external returns (uint256) {\\n        return _mint(to);\\n    }\\n\\n    // subowner is uint(address) of player currently\\n    // when subowner == 0 character is considered not in the dungeon\\n    function mint(uint256 subOwner) external returns (uint256) {\\n        uint256 id = _mint(msg.sender);\\n        _setSubOwnerFor(id, msg.sender, subOwner);\\n        return id;\\n    }\\n\\n    function _mint(address to) internal returns (uint256) {\\n        uint256 id = nextId++;\\n        _owners[id] = to;\\n        _numPerOwners[to]++;\\n        emit Transfer(address(0), to, id);\\n        return id;\\n    }\\n\\n    function getData(uint256 id) external view returns (uint256) {\\n        return _data[id][msg.sender];\\n    }\\n\\n    function getDataFor(uint256 id, address owner) external view returns (uint256) {\\n        return _data[id][owner];\\n    }\\n\\n    // TODO only dungeon should be able to set data\\n    // currently this can be called by the player when characters is outside of dungeon\\n    function setData(uint256 id, uint256 data) external {\\n        require(msg.sender == _ownerOf(id), \\\"only owner is allowed to set data\\\");\\n        _setDataFor(id, msg.sender, data);\\n    }\\n\\n    function _setDataFor(\\n        uint256 id,\\n        address owner,\\n        uint256 data\\n    ) internal {\\n        _data[id][owner] = data;\\n        emit CharacterUpdate(id, owner, data);\\n    }\\n\\n    function _ownerOf(uint256 id) internal view returns (address) {\\n        return _owners[id];\\n    }\\n\\n    function fullOwnerOf(uint256 id) external view returns (address owner, uint256 subOwner) {\\n        owner = _ownerOf(id);\\n        subOwner = _subOwner[id][owner];\\n    }\\n\\n    // EIP-721 Standard\\n    function ownerOf(uint256 id) external view returns (address tokenOwner) {\\n        tokenOwner = _ownerOf(id);\\n        require(tokenOwner != address(0), \\\"token does not exist\\\");\\n    }\\n\\n    function balanceOf(address who) external view returns (uint256) {\\n        require(who != address(0), \\\"zero address\\\");\\n        return _numPerOwners[who];\\n    }\\n\\n    function transferFrom(\\n        address from,\\n        address to,\\n        uint256 id\\n    ) external {\\n        require(from != address(0), \\\"from is zero address\\\");\\n        require(to != address(0), \\\"to is zero address\\\");\\n        address owner = _owners[id];\\n        require(owner == from, \\\"from is not owner\\\");\\n        _subOwner[id][owner] = 0;\\n        _owners[id] = to;\\n        _numPerOwners[from]--;\\n        _numPerOwners[to]++;\\n    }\\n\\n    function supportsInterface(bytes4 id) external pure returns (bool) {\\n        // TODO metadata || id == 0x5b5e139f;\\n        return id == 0x01ffc9a7 || id == 0x80ac58cd;\\n    }\\n}\\n\",\"keccak256\":\"0xcc9355031d7447f7b27da41ff240cfdf96cc59c5d4e273d3f7940ce95b22ef30\",\"license\":\"MIT\"},\"src/characters/CharactersDataLayout.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ncontract CharactersDataLayout {\\n    uint256 nextId;\\n    mapping(uint256 => address) _owners;\\n    mapping(address => uint256) _numPerOwners;\\n    mapping(uint256 => mapping(address => uint256)) _subOwner;\\n    mapping(uint256 => mapping(address => uint256)) _data;\\n}\\n\",\"keccak256\":\"0x8b2acf9ac90aabf99ea230bfdefd3a9fbe70851f94cc5be2c331543560d7f811\",\"license\":\"MIT\"},\"src/player/Player.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"hardhat-deploy/solc_0.8/proxy/Proxied.sol\\\";\\nimport \\\"./PlayerDataLayout.sol\\\";\\nimport \\\"../utils/MetaTransactionReceiver.sol\\\";\\nimport \\\"./Pool.sol\\\";\\nimport \\\"../utils/Constants.sol\\\";\\n\\ncontract Player is Proxied, PlayerDataLayout, MetaTransactionReceiver, Constants {\\n    event Call(bool success, bytes returnData);\\n    event Refill(address indexed playerAddress, uint256 newEnergy);\\n\\n    function postUpgrade(\\n        Characters charactersContract,\\n        address payable feeRecipient,\\n        uint256 minBalance,\\n        Pool pool\\n    ) external proxied {\\n        // TODO _setTrustedForwarder(...);\\n        _charactersContract = charactersContract;\\n        _feeRecipient = feeRecipient;\\n        MIN_BALANCE = minBalance;\\n        _pool = pool;\\n        pool.register();\\n    }\\n\\n    function register() external {\\n        if (msg.sender != address(_holder)) {\\n            require(address(_holder) == address(0), \\\"holder already set\\\");\\n            _holder = Enterable(msg.sender);\\n        }\\n    }\\n\\n    function getLastCharacterId(address playerAddress) external view returns (uint256) {\\n        return _lastCharacterIds[playerAddress];\\n    }\\n\\n    function getEnergy(address playerAddress) external view returns (uint256 energy, uint256 freeEnergy) {\\n        PlayerStruct storage player = _players[playerAddress];\\n        energy = player.energy;\\n        freeEnergy = player.freeEnergy;\\n    }\\n\\n    // TODO remove ?\\n    function getPlayerInfo(address playerAddress, uint256 characterId)\\n        external\\n        view\\n        returns (uint256 energy, uint256 freeEnergy)\\n    {\\n        PlayerStruct storage player = _players[playerAddress];\\n        energy = player.energy;\\n        freeEnergy = player.freeEnergy;\\n    }\\n\\n    function createAndEnter(\\n        address payable newDelegate,\\n        uint256 value,\\n        string calldata name,\\n        uint8 class,\\n        uint256 location\\n    ) external payable {\\n        address payable sender = _msgSender();\\n        uint256 characterId = _charactersContract.mintTo(address(_holder));\\n        _enter(sender, newDelegate, characterId, value, name, class, location);\\n    }\\n\\n    function enter(\\n        address payable newDelegate,\\n        uint256 characterId,\\n        uint256 value,\\n        string calldata name,\\n        uint8 class,\\n        uint256 location\\n    ) external payable {\\n        address payable sender = _msgSender();\\n        _charactersContract.transferFrom(sender, address(_holder), characterId);\\n        _enter(sender, newDelegate, characterId, value, name, class, location);\\n    }\\n\\n    function _enter(\\n        address payable sender,\\n        address payable newDelegate,\\n        uint256 characterId,\\n        uint256 value,\\n        string memory name,\\n        uint8 class,\\n        uint256 location\\n    ) internal {\\n        require(msg.value >= value, \\\"msg.value < value\\\");\\n        if (msg.value > value) {\\n            _refill(sender, sender, msg.value - value);\\n        }\\n        if (newDelegate != address(0)) {\\n            _addDelegate(sender, newDelegate);\\n        }\\n        _holder.enter{value: value}(sender, characterId, name, class, location);\\n        _lastCharacterIds[sender] = characterId;\\n    }\\n\\n    function callAsCharacter(\\n        address destination,\\n        uint256 gasLimit,\\n        bytes calldata data\\n    ) external returns (bool success, bytes memory returnData) {\\n        address sender = _msgSender();\\n        // TODO check death ?\\n        require(destination != address(this), \\\"cannot call itself\\\");\\n        // TODO block data if == `enter(address sender, uint256 characterId, bytes data)`\\n        uint256 initialGas = gasleft();\\n        uint256 characterId = _getFirstParam(data);\\n        require(_charactersContract.ownerOf(characterId) == address(_holder), \\\"_holder does not own character\\\");\\n        uint256 playerAddress = _charactersContract.getSubOwner(characterId);\\n        if (uint256(uint160(sender)) != playerAddress) {\\n            require(uint256(uint160(_delegates[sender])) == playerAddress, \\\"sender is not delegate of character's player\\\");\\n        }\\n\\n        (success, returnData) = _executeWithSpecificGas(destination, gasLimit, data);\\n\\n        PlayerStruct storage player = _players[address(uint160(playerAddress))];\\n        uint256 energy = player.energy;\\n        uint256 txCharge = ((initialGas - gasleft()) + 10000) * tx.gasprice;\\n        uint256 freeEnergyFee = (txCharge * 10) / 100; // 10% extra is used for free energy\\n\\n        uint256 poolFee = txCharge * 10; // 1000% is used for UBF\\n\\n        require(energy >= freeEnergyFee + poolFee, \\\"not enough energy\\\");\\n        energy -= (freeEnergyFee + poolFee);\\n        _pool.recordCharge{value: poolFee}(sender, txCharge, poolFee);\\n\\n        if (msg.sender == sender) {\\n            // not metatx : use local private key so need to recharge local balance // TODO remove (once metatx is enabled)\\n            if (msg.sender.balance < MIN_BALANCE) {\\n                uint256 balanceToGive = MIN_BALANCE - msg.sender.balance;\\n                if (balanceToGive >= energy) {\\n                    balanceToGive = energy;\\n                    energy = 0;\\n                } else {\\n                    energy -= balanceToGive;\\n                }\\n\\n                if (balanceToGive > 0) {\\n                    payable(msg.sender).transfer(balanceToGive);\\n                }\\n            }\\n        }\\n        player.freeEnergy += uint128(freeEnergyFee);\\n        player.energy = uint128(energy);\\n\\n        emit Call(success, returnData);\\n    }\\n\\n    function isDelegateFor(address delegate, address playerAddress) external view returns (bool) {\\n        return _delegates[delegate] == playerAddress;\\n    }\\n\\n    function refillAccount(address account) public payable {\\n        address payable sender = _msgSender();\\n        _refill(sender, account, msg.value);\\n    }\\n\\n    function refill() public payable {\\n        address payable sender = _msgSender();\\n        _refill(sender, sender, msg.value);\\n    }\\n\\n    function _refill(\\n        address payable sender,\\n        address account,\\n        uint256 value\\n    ) internal returns (uint256 refund) {\\n        uint128 energy = _players[account].energy;\\n        energy += uint128(value);\\n        if (energy > uint128(MAX_FOOD)) {\\n            energy = uint128(MAX_FOOD);\\n            refund = energy - MAX_FOOD;\\n        }\\n        _players[account].energy = energy;\\n        emit Refill(account, energy);\\n        if (refund > 0) {\\n            sender.transfer(refund);\\n        }\\n    }\\n\\n    // TODO add Events for Delegates\\n    function addDelegate(address payable _delegate) public payable {\\n        address payable sender = _msgSender();\\n        if (msg.value > 0) {\\n            _refill(sender, sender, msg.value);\\n        }\\n        _addDelegate(sender, _delegate);\\n    }\\n\\n    function _addDelegate(address sender, address payable _delegate) internal {\\n        require(_delegate != address(0), \\\"no zero address delegate\\\");\\n        require(_players[sender].energy >= uint128(MIN_BALANCE), \\\"not enough energy\\\");\\n        _players[sender].energy -= uint128(MIN_BALANCE);\\n        _delegate.transfer(MIN_BALANCE);\\n        _delegates[_delegate] = sender;\\n    }\\n\\n    function _getFirstParam(bytes memory data) internal pure returns (uint256) {\\n        if (data.length < 36) {\\n            return 0;\\n        }\\n        uint256 value;\\n        // solhint-disable-next-line security/no-inline-assembly\\n        assembly {\\n            value := mload(add(data, 36))\\n        }\\n        return value;\\n    }\\n\\n    function _executeWithSpecificGas(\\n        address to,\\n        uint256 gasLimit,\\n        bytes memory data\\n    ) internal returns (bool success, bytes memory returnData) {\\n        (success, returnData) = to.call{gas: gasLimit}(data);\\n        assert(gasleft() > gasLimit / 63);\\n        // not enough gas provided, assert to throw all gas // TODO use EIP-1930\\n    }\\n}\\n\",\"keccak256\":\"0x49f830f50e3c428ccb861f9b72937daa6d7aac6f4911bc79dfb62aa3da670605\",\"license\":\"MIT\"},\"src/player/PlayerDataLayout.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nimport \\\"../characters/Characters.sol\\\";\\nimport \\\"./Pool.sol\\\";\\n\\ninterface Enterable {\\n    // TODO generalize?\\n    function enter(\\n        address sender,\\n        uint256 characterId,\\n        string calldata data,\\n        uint8 class,\\n        uint256 location\\n    ) external payable;\\n}\\n\\ncontract PlayerDataLayout {\\n    uint256 internal MIN_BALANCE; // = 5000000000000000;\\n\\n    struct PlayerStruct {\\n        uint128 energy;\\n        uint128 freeEnergy;\\n    }\\n\\n    address payable _feeRecipient;\\n    mapping(address => address) _delegates;\\n    mapping(address => PlayerStruct) _players;\\n    mapping(address => uint256) _lastCharacterIds;\\n\\n    Characters _charactersContract;\\n    Enterable _holder;\\n\\n    Pool _pool;\\n}\\n\",\"keccak256\":\"0x425a6f4162bfc88f62c9dde5a91ac1b4453aeff3ab8bd95c2d09f1ac0ed19b4b\",\"license\":\"MIT\"},\"src/player/Pool.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ninterface Pool {\\n    function register() external;\\n\\n    function recordCharge(\\n        address account,\\n        uint256 txCharge,\\n        uint256 poolFee\\n    ) external payable;\\n}\\n\",\"keccak256\":\"0x7d71d072fee4819c7665f60218a458806c67b9f38bd75566e12f2145cc3b549f\",\"license\":\"MIT\"},\"src/utils/Constants.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\ncontract Constants {\\n    uint256 public constant MAX_FOOD = 400000000000000000;\\n}\\n\",\"keccak256\":\"0x6c87d8a3403e6c7f86f3c2e08f9718efdb079be6c4c967c3599b964530b5b80f\",\"license\":\"MIT\"},\"src/utils/MetaTransactionReceiver.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.20;\\n\\nabstract contract MetaTransactionReceiver {\\n    bytes32 constant FORWARDER_STORAGE_POSITION = 0xbda473cae6459373242ba82cd14b3b8493956b600be62b2478f52616c8a283de;\\n\\n    function isTrustedForwarder(address forwarder) external view returns (bool) {\\n        return _isTrustedForwarder(forwarder);\\n    }\\n\\n    function _msgSender() internal view returns (address payable sender) {\\n        sender = payable(msg.sender);\\n        if (_isTrustedForwarder(msg.sender)) {\\n            bytes memory data = msg.data;\\n            uint256 length = msg.data.length;\\n            assembly {\\n                sender := mload(add(data, length))\\n            }\\n        }\\n    }\\n\\n    function _isTrustedForwarder(address trustedForwarder) internal view returns (bool) {\\n        address currentForwarder;\\n        // solhint-disable-next-line security/no-inline-assembly\\n        assembly {\\n            currentForwarder := sload(FORWARDER_STORAGE_POSITION)\\n        }\\n        return currentForwarder == trustedForwarder;\\n    }\\n\\n    function _setTrustedForwarder(address trustedForwarder) internal {\\n        // solhint-disable-next-line security/no-inline-assembly\\n        assembly {\\n            sstore(FORWARDER_STORAGE_POSITION, trustedForwarder)\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x42c77fecc9a7d2dcbc7c99d4fb9288e4a1812b25431b7475c1b5013c3a393993\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608080604052346100165761130d908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b60003560e01c80631aa3a008146100f75780631dbd3c62146100f25780633bda15e6146100ed578063454d3fc1146100e85780634e0fb1f4146100e3578063538e0759146100de578063572b6c05146100d9578063752afa70146100d45780638fc0f5eb146100cf5780639391c77a146100ca57806399888ac9146100c5578063c23a2465146100c0578063e71bdf41146100bb5763ef737545146100b657600080fd5b610b77565b610b26565b610ad6565b610a99565b610a79565b610a1f565b610949565b6108ea565b6108c1565b610896565b61044a565b6102d4565b6101e2565b61010c565b600091031261010757565b600080fd5b34610107576000366003190112610107576006546001600160a01b0381163381900361013457005b610149576001600160a01b0319163317600655005b60405162461bcd60e51b81526020600482015260126024820152711a1bdb19195c88185b1c9958591e481cd95d60721b6044820152606490fd5b6001600160a01b0381160361010757565b9181601f840112156101075782359167ffffffffffffffff8311610107576020838186019501011161010757565b6084359060ff8216820361010757565b6064359060ff8216820361010757565b60c0366003190112610107576004356101fa81610183565b6024359060643567ffffffffffffffff81116101075761021e903690600401610194565b90926102286101c2565b91610231611271565b6005546006546001600160a01b03908116979293929116803b15610107576040516323b872dd60e01b81526001600160a01b038581166004830152989098166024890152604488018590526000908890606490829084905af19182156102cf576102b4976102a6936102b6575b503691610c22565b9160a4359460443592610cfb565b005b806102c36102c992610bb0565b806100fc565b3861029e565b610beb565b34610107576080366003190112610107576004356102f181610183565b602435906102fe82610183565b6064359061030b82610183565b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d610380546001600160a01b0394859290918316806103dd57508290555b816bffffffffffffffffffffffff60a01b9316836005541617600555169060015416176001556000918291604435835561039d8160018060a01b03166bffffffffffffffffffffffff60a01b6007541617600755565b16803b156103da578190600460405180948193630354740160e31b83525af180156102cf576103ca575080f35b806102c36103d792610bb0565b80f35b50fd5b919250503303610107578390610347565b919082519283825260005b84811061041a575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016103f9565b60409061044793921515815281602082015201906103ee565b90565b346101075760603660031901126101075760043561046781610183565b60443567ffffffffffffffff811161010757610487903690600401610194565b61049e610492611271565b6001600160a01b031690565b6001600160a01b03939091906104b8818616301415610de6565b5a906104cd6104c8368588610c22565b6111f3565b6005549095906104e5906001600160a01b0316610492565b6040516331a9108f60e11b8152600481018890526020979091908883602481855afa9182156102cf576105418a9361056195600091610869575b506006548d9061053990610492906001600160a01b031681565b911614610e3c565b6040518080958194630607176160e31b8352600483019190602083019252565b03915afa9687156102cf5760009761082a575b50506105be916105986105a29289881696888a808a036107e8575b50503691610c22565b9060243590611209565b9690951660018060a01b03166000526003602052604060002090565b916105fc6105f56105f06105e86105dc87546001600160801b031690565b6001600160801b031690565b945a90610caf565b610ee9565b3a90610f1b565b61060f61060882610f05565b6064900490565b9461064261061c83610f05565b9461063261062a878a610ef8565b821015610f2e565b61063c8689610ef8565b90610caf565b60075490949061065a906001600160a01b0316610492565b803b1561010757604051632082fbcd60e21b81526001600160a01b039390931660048401526024830193909352604482018190529091600091839160649183915af180156102cf576107d5575b50331461075f575b91610719926106fe6106d56001600160801b038094166106d0865460801c90565b610f6e565b84546001600160801b031660809190911b6fffffffffffffffffffffffffffffffff1916178455565b166001600160801b03166001600160801b0319825416179055565b7f9a55c85f4afdf6baca33ed6106a8754818254616412d5fcc558a6deb81e7a65f6040518061074985858361042e565b0390a161075b6040519283928361042e565b0390f35b3331600054809110610772575b506106af565b61077e90333190610caf565b8181106107c35750916000925b8015801561079d575b5092909261076c565b6000808093819382906107ba575b3390f1156102cf573880610794565b506108fc6107ab565b9290836107cf91610caf565b9261078b565b806102c36107e292610bb0565b386106a7565b61081d6104926104926108106108239560018060a01b03166000526002602052604060002090565b546001600160a01b031690565b14610e88565b888a61058f565b6105a29297506108576105be94928261059893903d10610862575b61084f8183610bc9565b810190610bf7565b979250819350610574565b503d610845565b6108899150853d871161088f575b6108818183610bc9565b810190610e27565b3861051f565b503d610877565b6020366003190112610107576102b46004356108b181610183565b6108b9611271565b903491610f89565b6000366003190112610107576102b46108d8611271565b34906001600160a01b03811690610f89565b3461010757602036600319011261010757602061093f60043561090c81610183565b7fbda473cae6459373242ba82cd14b3b8493956b600be62b2478f52616c8a283de546001600160a01b0390811691161490565b6040519015158152f35b60a03660031901126101075760043561096181610183565b6044359067ffffffffffffffff8211610107576109846000923690600401610194565b61098c6101d2565b91610995611271565b60055460065460405163755edd1760e01b81526001600160a01b03918216600482015297929392602092899260249284929091165af19283156102cf576102b4966000946109f9575b50906109eb913691610c22565b916084359460243592610cfb565b6109eb92919450610a179060203d81116108625761084f8183610bc9565b9390916109de565b3461010757602036600319011261010757610a67600435610a3f81610183565b60018060a01b03166000526003602052604060002054906001600160801b0382169160801c90565b60408051928352602083019190915290f35b3461010757604036600319011261010757610a67600435610a3f81610183565b3461010757602036600319011261010757600435610ab681610183565b60018060a01b031660005260046020526020604060002054604051908152f35b34610107576040366003190112610107576020600435610af581610183565b60243590610b0282610183565b60018060a01b03809116600052600283528060406000205416906040519216148152f35b6020366003190112610107576102b4600435610b4181610183565b610b49611271565b34610b5d575b6001600160a01b03166110a0565b610b71346001600160a01b03831683610f89565b50610b4f565b3461010757600036600319011261010757602060405167058d15e1762800008152f35b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff8111610bc457604052565b610b9a565b90601f8019910116810190811067ffffffffffffffff821117610bc457604052565b6040513d6000823e3d90fd5b90816020910312610107575190565b67ffffffffffffffff8111610bc457601f01601f191660200190565b929192610c2e82610c06565b91610c3c6040519384610bc9565b829481845281830111610107578281602093846000960137010152565b15610c6057565b60405162461bcd60e51b81526020600482015260116024820152706d73672e76616c7565203c2076616c756560781b6044820152606490fd5b634e487b7160e01b600052601160045260246000fd5b91908203918211610cbc57565b610c99565b91608093610cf09160ff939897969860018060a01b03168552602085015260a0604085015260a08401906103ee565b951660608201520152565b93929490959195610d0e86341015610c59565b853411610dc3575b6001600160a01b0390808216610db1575b5050600654610d3e906001600160a01b0316610492565b90813b1561010757610d6c956000946040519788958694859363a23782b360e01b85528c8b60048701610cc1565b03925af19182156102cf57610d9b92610d9e575b506001600160a01b0316600090815260046020526040902090565b55565b806102c3610dab92610bb0565b38610d80565b610dbc9186166110a0565b3880610d27565b610de0610dd08734610caf565b6001600160a01b03871687610f89565b50610d16565b15610ded57565b60405162461bcd60e51b815260206004820152601260248201527131b0b73737ba1031b0b6361034ba39b2b63360711b6044820152606490fd5b90816020910312610107575161044781610183565b15610e4357565b60405162461bcd60e51b815260206004820152601e60248201527f5f686f6c64657220646f6573206e6f74206f776e2063686172616374657200006044820152606490fd5b15610e8f57565b60405162461bcd60e51b815260206004820152602c60248201527f73656e646572206973206e6f742064656c6567617465206f662063686172616360448201526b3a32b913b990383630bcb2b960a11b6064820152608490fd5b906127108201809211610cbc57565b91908201809211610cbc57565b90600a820291808304600a1490151715610cbc57565b81810292918115918404141715610cbc57565b15610f3557565b60405162461bcd60e51b81526020600482015260116024820152706e6f7420656e6f75676820656e6572677960781b6044820152606490fd5b9190916001600160801b0380809416911601918211610cbc57565b6001600160a01b038083166000818152600360205260408120549096958795916001600160801b0391610fc191908316908316610f6e565b9167058d15e1762800008083851611611079575b50916020916110368261101b7f5466efde3f6b866c1103aefb7dcd4d0ed7d35437128ee5fcd44762b00cd514b09660018060a01b03166000526003602052604060002090565b906001600160801b03166001600160801b0319825416179055565b60405191168152a2841591858315611050575b5050505050565b849384938493849261106f575b1690f1156102cf573880808085611049565b6108fc925061105d565b969850889692506020610fd5565b6001600160801b039182169082160391908211610cbc57565b6001600160a01b03821680156111ae576001600160a01b038216600090815260036020526040902054611154906001600160801b031660008093819382936111076110f285546001600160801b031690565b916001600160801b0380841691161015610f2e565b6001600160a01b038816600090815260036020526040902061113a909161113583546001600160801b031690565b611087565b6001600160801b03166001600160801b0319825416179055565b8154908282156111a5575bf1156102cf576111846111a39260018060a01b03166000526002602052604060002090565b80546001600160a01b0319166001600160a01b03909216919091179055565b565b506108fc61115f565b60405162461bcd60e51b815260206004820152601860248201527f6e6f207a65726f20616464726573732064656c656761746500000000000000006044820152606490fd5b6024815110611203576024015190565b50600090565b92909260008381949282602081955193019188f1913d1561126a573d61122e81610c06565b9061123c6040519283610bc9565b81523d82602083013e5b9293603f5a910410156112565750565b634e487b7160e01b81526001600452602490fd5b6060611246565b7fbda473cae6459373242ba82cd14b3b8493956b600be62b2478f52616c8a283de543391906001600160a01b031682146112a757565b90506112b236610c06565b6112bf6040519182610bc9565b3681523660006020830137360160006020820152519056fea2646970667358221220318fbcb7da91fc7d731600bc47f6d9e4c3826b5b002b9504c14b1326443c59f064736f6c63430008140033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b60003560e01c80631aa3a008146100f75780631dbd3c62146100f25780633bda15e6146100ed578063454d3fc1146100e85780634e0fb1f4146100e3578063538e0759146100de578063572b6c05146100d9578063752afa70146100d45780638fc0f5eb146100cf5780639391c77a146100ca57806399888ac9146100c5578063c23a2465146100c0578063e71bdf41146100bb5763ef737545146100b657600080fd5b610b77565b610b26565b610ad6565b610a99565b610a79565b610a1f565b610949565b6108ea565b6108c1565b610896565b61044a565b6102d4565b6101e2565b61010c565b600091031261010757565b600080fd5b34610107576000366003190112610107576006546001600160a01b0381163381900361013457005b610149576001600160a01b0319163317600655005b60405162461bcd60e51b81526020600482015260126024820152711a1bdb19195c88185b1c9958591e481cd95d60721b6044820152606490fd5b6001600160a01b0381160361010757565b9181601f840112156101075782359167ffffffffffffffff8311610107576020838186019501011161010757565b6084359060ff8216820361010757565b6064359060ff8216820361010757565b60c0366003190112610107576004356101fa81610183565b6024359060643567ffffffffffffffff81116101075761021e903690600401610194565b90926102286101c2565b91610231611271565b6005546006546001600160a01b03908116979293929116803b15610107576040516323b872dd60e01b81526001600160a01b038581166004830152989098166024890152604488018590526000908890606490829084905af19182156102cf576102b4976102a6936102b6575b503691610c22565b9160a4359460443592610cfb565b005b806102c36102c992610bb0565b806100fc565b3861029e565b610beb565b34610107576080366003190112610107576004356102f181610183565b602435906102fe82610183565b6064359061030b82610183565b7fb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d610380546001600160a01b0394859290918316806103dd57508290555b816bffffffffffffffffffffffff60a01b9316836005541617600555169060015416176001556000918291604435835561039d8160018060a01b03166bffffffffffffffffffffffff60a01b6007541617600755565b16803b156103da578190600460405180948193630354740160e31b83525af180156102cf576103ca575080f35b806102c36103d792610bb0565b80f35b50fd5b919250503303610107578390610347565b919082519283825260005b84811061041a575050826000602080949584010152601f8019910116010190565b6020818301810151848301820152016103f9565b60409061044793921515815281602082015201906103ee565b90565b346101075760603660031901126101075760043561046781610183565b60443567ffffffffffffffff811161010757610487903690600401610194565b61049e610492611271565b6001600160a01b031690565b6001600160a01b03939091906104b8818616301415610de6565b5a906104cd6104c8368588610c22565b6111f3565b6005549095906104e5906001600160a01b0316610492565b6040516331a9108f60e11b8152600481018890526020979091908883602481855afa9182156102cf576105418a9361056195600091610869575b506006548d9061053990610492906001600160a01b031681565b911614610e3c565b6040518080958194630607176160e31b8352600483019190602083019252565b03915afa9687156102cf5760009761082a575b50506105be916105986105a29289881696888a808a036107e8575b50503691610c22565b9060243590611209565b9690951660018060a01b03166000526003602052604060002090565b916105fc6105f56105f06105e86105dc87546001600160801b031690565b6001600160801b031690565b945a90610caf565b610ee9565b3a90610f1b565b61060f61060882610f05565b6064900490565b9461064261061c83610f05565b9461063261062a878a610ef8565b821015610f2e565b61063c8689610ef8565b90610caf565b60075490949061065a906001600160a01b0316610492565b803b1561010757604051632082fbcd60e21b81526001600160a01b039390931660048401526024830193909352604482018190529091600091839160649183915af180156102cf576107d5575b50331461075f575b91610719926106fe6106d56001600160801b038094166106d0865460801c90565b610f6e565b84546001600160801b031660809190911b6fffffffffffffffffffffffffffffffff1916178455565b166001600160801b03166001600160801b0319825416179055565b7f9a55c85f4afdf6baca33ed6106a8754818254616412d5fcc558a6deb81e7a65f6040518061074985858361042e565b0390a161075b6040519283928361042e565b0390f35b3331600054809110610772575b506106af565b61077e90333190610caf565b8181106107c35750916000925b8015801561079d575b5092909261076c565b6000808093819382906107ba575b3390f1156102cf573880610794565b506108fc6107ab565b9290836107cf91610caf565b9261078b565b806102c36107e292610bb0565b386106a7565b61081d6104926104926108106108239560018060a01b03166000526002602052604060002090565b546001600160a01b031690565b14610e88565b888a61058f565b6105a29297506108576105be94928261059893903d10610862575b61084f8183610bc9565b810190610bf7565b979250819350610574565b503d610845565b6108899150853d871161088f575b6108818183610bc9565b810190610e27565b3861051f565b503d610877565b6020366003190112610107576102b46004356108b181610183565b6108b9611271565b903491610f89565b6000366003190112610107576102b46108d8611271565b34906001600160a01b03811690610f89565b3461010757602036600319011261010757602061093f60043561090c81610183565b7fbda473cae6459373242ba82cd14b3b8493956b600be62b2478f52616c8a283de546001600160a01b0390811691161490565b6040519015158152f35b60a03660031901126101075760043561096181610183565b6044359067ffffffffffffffff8211610107576109846000923690600401610194565b61098c6101d2565b91610995611271565b60055460065460405163755edd1760e01b81526001600160a01b03918216600482015297929392602092899260249284929091165af19283156102cf576102b4966000946109f9575b50906109eb913691610c22565b916084359460243592610cfb565b6109eb92919450610a179060203d81116108625761084f8183610bc9565b9390916109de565b3461010757602036600319011261010757610a67600435610a3f81610183565b60018060a01b03166000526003602052604060002054906001600160801b0382169160801c90565b60408051928352602083019190915290f35b3461010757604036600319011261010757610a67600435610a3f81610183565b3461010757602036600319011261010757600435610ab681610183565b60018060a01b031660005260046020526020604060002054604051908152f35b34610107576040366003190112610107576020600435610af581610183565b60243590610b0282610183565b60018060a01b03809116600052600283528060406000205416906040519216148152f35b6020366003190112610107576102b4600435610b4181610183565b610b49611271565b34610b5d575b6001600160a01b03166110a0565b610b71346001600160a01b03831683610f89565b50610b4f565b3461010757600036600319011261010757602060405167058d15e1762800008152f35b634e487b7160e01b600052604160045260246000fd5b67ffffffffffffffff8111610bc457604052565b610b9a565b90601f8019910116810190811067ffffffffffffffff821117610bc457604052565b6040513d6000823e3d90fd5b90816020910312610107575190565b67ffffffffffffffff8111610bc457601f01601f191660200190565b929192610c2e82610c06565b91610c3c6040519384610bc9565b829481845281830111610107578281602093846000960137010152565b15610c6057565b60405162461bcd60e51b81526020600482015260116024820152706d73672e76616c7565203c2076616c756560781b6044820152606490fd5b634e487b7160e01b600052601160045260246000fd5b91908203918211610cbc57565b610c99565b91608093610cf09160ff939897969860018060a01b03168552602085015260a0604085015260a08401906103ee565b951660608201520152565b93929490959195610d0e86341015610c59565b853411610dc3575b6001600160a01b0390808216610db1575b5050600654610d3e906001600160a01b0316610492565b90813b1561010757610d6c956000946040519788958694859363a23782b360e01b85528c8b60048701610cc1565b03925af19182156102cf57610d9b92610d9e575b506001600160a01b0316600090815260046020526040902090565b55565b806102c3610dab92610bb0565b38610d80565b610dbc9186166110a0565b3880610d27565b610de0610dd08734610caf565b6001600160a01b03871687610f89565b50610d16565b15610ded57565b60405162461bcd60e51b815260206004820152601260248201527131b0b73737ba1031b0b6361034ba39b2b63360711b6044820152606490fd5b90816020910312610107575161044781610183565b15610e4357565b60405162461bcd60e51b815260206004820152601e60248201527f5f686f6c64657220646f6573206e6f74206f776e2063686172616374657200006044820152606490fd5b15610e8f57565b60405162461bcd60e51b815260206004820152602c60248201527f73656e646572206973206e6f742064656c6567617465206f662063686172616360448201526b3a32b913b990383630bcb2b960a11b6064820152608490fd5b906127108201809211610cbc57565b91908201809211610cbc57565b90600a820291808304600a1490151715610cbc57565b81810292918115918404141715610cbc57565b15610f3557565b60405162461bcd60e51b81526020600482015260116024820152706e6f7420656e6f75676820656e6572677960781b6044820152606490fd5b9190916001600160801b0380809416911601918211610cbc57565b6001600160a01b038083166000818152600360205260408120549096958795916001600160801b0391610fc191908316908316610f6e565b9167058d15e1762800008083851611611079575b50916020916110368261101b7f5466efde3f6b866c1103aefb7dcd4d0ed7d35437128ee5fcd44762b00cd514b09660018060a01b03166000526003602052604060002090565b906001600160801b03166001600160801b0319825416179055565b60405191168152a2841591858315611050575b5050505050565b849384938493849261106f575b1690f1156102cf573880808085611049565b6108fc925061105d565b969850889692506020610fd5565b6001600160801b039182169082160391908211610cbc57565b6001600160a01b03821680156111ae576001600160a01b038216600090815260036020526040902054611154906001600160801b031660008093819382936111076110f285546001600160801b031690565b916001600160801b0380841691161015610f2e565b6001600160a01b038816600090815260036020526040902061113a909161113583546001600160801b031690565b611087565b6001600160801b03166001600160801b0319825416179055565b8154908282156111a5575bf1156102cf576111846111a39260018060a01b03166000526002602052604060002090565b80546001600160a01b0319166001600160a01b03909216919091179055565b565b506108fc61115f565b60405162461bcd60e51b815260206004820152601860248201527f6e6f207a65726f20616464726573732064656c656761746500000000000000006044820152606490fd5b6024815110611203576024015190565b50600090565b92909260008381949282602081955193019188f1913d1561126a573d61122e81610c06565b9061123c6040519283610bc9565b81523d82602083013e5b9293603f5a910410156112565750565b634e487b7160e01b81526001600452602490fd5b6060611246565b7fbda473cae6459373242ba82cd14b3b8493956b600be62b2478f52616c8a283de543391906001600160a01b031682146112a757565b90506112b236610c06565b6112bf6040519182610bc9565b3681523660006020830137360160006020820152519056fea2646970667358221220318fbcb7da91fc7d731600bc47f6d9e4c3826b5b002b9504c14b1326443c59f064736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 10973,
        "contract": "src/player/Player.sol:Player",
        "label": "MIN_BALANCE",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 10980,
        "contract": "src/player/Player.sol:Player",
        "label": "_feeRecipient",
        "offset": 0,
        "slot": "1",
        "type": "t_address_payable"
      },
      {
        "astId": 10984,
        "contract": "src/player/Player.sol:Player",
        "label": "_delegates",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_address)"
      },
      {
        "astId": 10989,
        "contract": "src/player/Player.sol:Player",
        "label": "_players",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_struct(PlayerStruct)10978_storage)"
      },
      {
        "astId": 10993,
        "contract": "src/player/Player.sol:Player",
        "label": "_lastCharacterIds",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_address,t_uint256)"
      },
      {
        "astId": 10996,
        "contract": "src/player/Player.sol:Player",
        "label": "_charactersContract",
        "offset": 0,
        "slot": "5",
        "type": "t_contract(Characters)464"
      },
      {
        "astId": 10999,
        "contract": "src/player/Player.sol:Player",
        "label": "_holder",
        "offset": 0,
        "slot": "6",
        "type": "t_contract(Enterable)10971"
      },
      {
        "astId": 11002,
        "contract": "src/player/Player.sol:Player",
        "label": "_pool",
        "offset": 0,
        "slot": "7",
        "type": "t_contract(Pool)11018"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_address_payable": {
        "encoding": "inplace",
        "label": "address payable",
        "numberOfBytes": "20"
      },
      "t_contract(Characters)464": {
        "encoding": "inplace",
        "label": "contract Characters",
        "numberOfBytes": "20"
      },
      "t_contract(Enterable)10971": {
        "encoding": "inplace",
        "label": "contract Enterable",
        "numberOfBytes": "20"
      },
      "t_contract(Pool)11018": {
        "encoding": "inplace",
        "label": "contract Pool",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_address)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => address)",
        "numberOfBytes": "32",
        "value": "t_address"
      },
      "t_mapping(t_address,t_struct(PlayerStruct)10978_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct PlayerDataLayout.PlayerStruct)",
        "numberOfBytes": "32",
        "value": "t_struct(PlayerStruct)10978_storage"
      },
      "t_mapping(t_address,t_uint256)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_struct(PlayerStruct)10978_storage": {
        "encoding": "inplace",
        "label": "struct PlayerDataLayout.PlayerStruct",
        "members": [
          {
            "astId": 10975,
            "contract": "src/player/Player.sol:Player",
            "label": "energy",
            "offset": 0,
            "slot": "0",
            "type": "t_uint128"
          },
          {
            "astId": 10977,
            "contract": "src/player/Player.sol:Player",
            "label": "freeEnergy",
            "offset": 16,
            "slot": "0",
            "type": "t_uint128"
          }
        ],
        "numberOfBytes": "32"
      },
      "t_uint128": {
        "encoding": "inplace",
        "label": "uint128",
        "numberOfBytes": "16"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}